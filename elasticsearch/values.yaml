global:
  kibanaEnabled: true
clusterName: test
image:
  registry: docker.io
  repository: bitnami/elasticsearch
  tag: 8.15.2-debian-12-r4
security:
  enabled: true
  elasticPassword: ""
  tls:
    restEncryption: true
    autoGenerated: true
    verificationMode: "full"
    keystoreFilename: elasticsearch.keystore.jks
    truststoreFilename: elasticsearch.truststore.jks
    usePemCerts: true
service:
  type: ClusterIP
master:
  masterOnly: true
  replicaCount: 3
  pdb:
    create: true
    minAvailable: "1"
  resourcesPreset: xlarge
  affinity:
    podAntiAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        - labelSelector:
            matchExpressions:
              - key: app.kubernetes.io/component
                operator: In
                values:
                  - master
          topologyKey: "kubernetes.io/hostname"
data:
  replicaCount: 3
  pdb:
    create: true
    minAvailable: "1"
  affinity:
    podAntiAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        - labelSelector:
            matchExpressions:
              - key: app.kubernetes.io/component
                operator: In
                values:
                  - data
          topologyKey: "kubernetes.io/hostname"

coordinating:
  replicaCount: 3
  pdb:
    create: true
    minAvailable: "1"
  affinity:
    podAntiAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        - labelSelector:
            matchExpressions:
              - key: app.kubernetes.io/component
                operator: In
                values:
                  - coordinating-only
          topologyKey: "kubernetes.io/hostname"
ingest:
  replicaCount: 3
  pdb:
    create: true
    minAvailable: "1"
  affinity:
    podAntiAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        - labelSelector:
            matchExpressions:
              - key: app.kubernetes.io/component
                operator: In
                values:
                  - ingest
          topologyKey: "kubernetes.io/hostname"
kibana:
  elasticsearch:
    security:
      auth:
        enabled: true
        elasticsearchPasswordSecret: test-elasticsearch
        createSystemUser: true
        kibanaUsername: ""
        kibanaPassword: ""
      tls:
        enabled: true
        existingSecret: test-elasticsearch-coordinating-crt 
        usePemCerts: true
